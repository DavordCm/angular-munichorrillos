<div class="infracciones-container">
  <h2>Listado de Infracciones</h2>

  <div class="buscador">
    <button class="volver" (click)="volverAlMenu()">←</button>
    <input type="text" placeholder="Ingrese UID de la infracción" [(ngModel)]="busquedaUid">
    <button class="buscar" (click)="buscarInfraccion()">Buscar</button>
  </div>

  <form (submit)="guardarInfraccion(); $event.preventDefault()">
    <input type="text" placeholder="Código" [(ngModel)]="nuevaInfraccion.codInfraccion" name="cod">
    <input type="text" placeholder="Ordenanza" [(ngModel)]="nuevaInfraccion.nomInfraccion" name="nom">
    <input type="text" placeholder="Descripción" [(ngModel)]="nuevaInfraccion.descripcion" name="descripcion">
    <input type="text" placeholder="Resolución" [(ngModel)]="nuevaInfraccion.resolucion" name="resolucion">
    <input type="text" placeholder="Rango" [(ngModel)]="nuevaInfraccion.rango" name="rango">
    <input type="number" placeholder="Monto" [(ngModel)]="nuevaInfraccion.monto" name="monto">
    <button type="submit">{{ editarId ? 'Actualizar' : 'Agregar' }}</button>
  </form>

  <table>
    <thead>
      <tr>
        <th>Código</th>
        <th>Ordenanza</th>
        <th>Descripción</th>
        <th>Resolución</th>
        <th>Rango</th>
        <th>Monto</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let inf of infracciones">
        <td>{{ inf.codInfraccion }}</td>
        <td>{{ inf.nomInfraccion }}</td>
        <td>{{ inf.descripcion }}</td>
        <td>{{ inf.resolucion }}</td>
        <td>{{ inf.rango }}</td>
        <td>S/ {{ inf.monto }}</td>
        <td>
          <button (click)="editarInfraccion(inf)">Editar</button>
          <button (click)="eliminarInfraccion(inf.uidInfraccion!)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
